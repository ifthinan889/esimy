# Admin Panel .htaccess - Fixed Asset Routing
RewriteEngine On

# Handle asset requests - redirect to parent assets folder
RewriteCond %{REQUEST_URI} ^/admin/assets/(.*)$
RewriteRule ^assets/(.*)$ ../assets/$1 [L]

# Alternative asset routing for relative paths
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} assets/
RewriteRule ^(.*)$ ../$1 [L]

# Security: Block access to sensitive files
<Files "*.log">
    Require all denied
</Files>

<Files "*.sql">
    Require all denied
</Files>

<Files "*.bak">
    Require all denied
</Files>

# Security headers for admin
<IfModule mod_headers.c>
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set X-Content-Type-Options "nosniff"
    Header always set X-XSS-Protection "1; mode=block"
</IfModule>

# Ensure CSS and JS files are served with correct MIME types
<IfModule mod_mime.c>
    AddType text/css .css
    AddType application/javascript .js
</IfModule>